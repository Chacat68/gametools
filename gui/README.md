# JSON格式检测工具 - GUI版本

基于tkinter的图形界面版本，提供友好的用户界面来检测JSON文件中text字段的格式一致性。

## 功能特点

- 🖥️ 直观的图形界面
- 📁 文件浏览和选择
- 🔍 自定义检测字段名
- 📊 实时显示检测结果
- 💾 保存检测报告
- ⚡ 多线程处理，界面不卡顿
- 📦 可打包成独立的exe文件

## 快速开始

### 方法1: 直接运行Python脚本

```bash
# 安装依赖
pip install -r requirements.txt

# 运行GUI
python run_gui.py
```

### 方法2: 运行主GUI文件

```bash
python json_format_detector_gui.py
```

## 使用说明

1. **启动程序**: 运行上述命令启动图形界面
2. **选择文件**: 点击"浏览"按钮选择要检测的JSON文件
3. **设置字段**: 在"检测字段"输入框中设置要检测的字段名（默认为"text"）
4. **开始检测**: 点击"开始检测"按钮进行格式检测
5. **查看结果**: 在结果区域查看详细的检测报告
6. **保存报告**: 点击"保存报告"按钮将结果保存到文件

## 界面说明

### 文件选择区域
- **JSON文件**: 选择要检测的JSON文件路径
- **检测字段**: 设置要检测的字段名（默认为"text"）

### 控制按钮
- **开始检测**: 开始执行格式检测
- **清空结果**: 清空当前显示的结果
- **保存报告**: 将检测结果保存到文本文件

### 结果显示区域
- 显示详细的检测报告
- 包括通用格式模式分析
- 格式不一致内容的详细信息

## 打包成exe文件

### 自动构建

```bash
# 运行自动化构建脚本
python build.py
```

构建完成后会生成：
- `dist/JSON格式检测工具.exe` - 主程序
- `dist/JSON格式检测工具_便携版/` - 便携版包

### 手动构建

```bash
# 使用PyInstaller构建
pyinstaller json_format_detector.spec
```

## 系统要求

- Python 3.7+
- tkinter (通常随Python安装)
- PyInstaller (用于打包)

## 注意事项

1. 确保JSON文件格式正确
2. 程序会自动检测字段中的格式不一致问题
3. 检测结果可以保存为文本文件
4. 支持嵌套JSON结构
5. 检测过程在后台线程中执行，不会阻塞界面

## 故障排除

### 常见问题

1. **导入错误**: 确保在正确的目录中运行脚本
2. **文件不存在**: 检查JSON文件路径是否正确
3. **检测失败**: 检查JSON文件格式是否正确
4. **界面卡顿**: 检测过程在后台执行，请耐心等待

### 调试模式

如果需要查看详细错误信息，可以修改`json_format_detector_gui.py`中的错误处理部分。

## 开发说明

### 文件结构

```
gui/
├── json_format_detector_gui.py  # 主GUI程序
├── run_gui.py                   # 简化启动脚本
├── build.py                     # 自动化构建脚本
├── json_format_detector.spec    # PyInstaller配置文件
├── requirements.txt             # 依赖包列表
└── README.md                    # 说明文档
```

### 自定义修改

- 修改界面布局: 编辑`create_widgets()`方法
- 添加新功能: 在`JSONFormatDetectorGUI`类中添加新方法
- 修改检测逻辑: 修改`json_format_detector`模块

## 更新日志

- v1.0.0: 初始版本，支持基本的JSON格式检测GUI
- 支持文件选择、字段设置、结果显示和报告保存
- 支持多线程处理，界面响应流畅
- 支持打包成独立的exe文件
