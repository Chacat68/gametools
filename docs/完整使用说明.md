# gametools - 游戏工具集

一个专为游戏策划设计的本地化工具集，包含越南文检测和JSON格式检测功能。

## 项目概述

gametools是一个多功能的游戏开发工具集，主要包含以下工具：

1. **策划本地化工具** - 检测表格文件中的越南文内容
2. **JSON格式检测工具** - 检测JSON文件中text字段的格式一致性

## 功能特性

### 策划本地化工具

- 🔍 **智能检测**: 自动检测目录下所有表格文件中的越南文内容
- 📊 **多格式支持**: 支持 Excel (.xlsx, .xls) 和 CSV (.csv, .tsv) 格式
- 🌐 **越南文识别**: 精确识别越南语字符和声调符号
- 📁 **递归扫描**: 自动扫描子目录中的所有表格文件
- 📋 **结果输出**: 清晰列出所有包含越南文的表格文件名
- 🎯 **精确定位**: 单文件详细分析，定位越南文位置
- 📝 **策划检测**: 检测符合策划检测规则的有效表格

### JSON格式检测工具

- 🖥️ **图形界面**: 直观的图形界面，操作简单
- 📁 **文件浏览**: 文件浏览和选择功能
- 🔍 **自定义字段**: 自定义检测字段名
- 📊 **实时显示**: 实时显示检测结果
- 💾 **保存报告**: 保存检测报告到文件
- ⚡ **多线程处理**: 界面响应流畅
- 📦 **exe打包**: 可打包成独立的exe文件

## 安装和使用

### 方法一：图形界面版本（推荐）

1. 双击运行 `tools/start_gui.bat` 启动图形界面
2. 选择要扫描的目录或文件
3. 点击相应的功能按钮
4. 在结果区域查看检测结果

**图形界面特性：**
- 🖥️ 友好的中文界面
- 📁 可视化目录选择
- 📊 实时扫描进度显示
- 📋 详细的结果日志
- ⏹️ 可随时停止扫描
- 🔄 支持清空结果重新扫描

### 方法二：使用批处理文件

1. 双击运行 `tools/run.bat`
2. 按提示输入要扫描的目录路径
3. 等待检测完成，查看结果

### 方法三：使用快速启动脚本

1. 双击运行 `tools/quick_start.py` 或使用命令：
   ```bash
   python tools/quick_start.py
   ```
2. 选择是否扫描当前目录，或输入其他目录路径
3. 查看检测结果

### 方法四：命令行使用

1. 安装依赖：
   ```bash
   pip install -r core/requirements.txt
   ```

2. 运行程序：
   ```bash
   python gametool.py [目录路径]
   ```

   如果不提供目录路径，程序会提示您输入。

## 支持的表格格式

- Excel文件：`.xlsx`, `.xls`
- CSV文件：`.csv`, `.tsv`

## 越南文检测范围

工具能够检测以下越南语字符：
- 带声调符号的元音：à, á, ạ, ả, ã, â, ầ, ấ, ậ, ẩ, ẫ, ă, ằ, ắ, ặ, ẳ, ẵ
- 带声调符号的辅音：è, é, ẹ, ẻ, ẽ, ê, ề, ế, ệ, ể, ễ
- 特殊字符：đ, Đ
- 以及对应的大写字母

## 使用示例

### 策划本地化工具

启动图形界面后，您将看到以下界面：

1. **批量扫描**: 检测目录下所有表格文件中的越南文
2. **精确定位**: 选择单个表格文件进行详细分析
3. **策划检测**: 检测符合策划检测规则的有效表格

### JSON格式检测工具

1. **选择文件**: 点击"浏览"按钮选择要检测的JSON文件
2. **设置字段**: 在"检测字段"输入框中设置要检测的字段名（默认为"text"）
3. **开始检测**: 点击"开始检测"按钮进行格式检测
4. **查看结果**: 在结果区域查看详细的检测报告
5. **保存报告**: 点击"保存报告"按钮将结果保存到文件

## 项目结构

```
gametools/
├── core/                    # 核心功能模块
│   ├── localization_checker.py
│   └── requirements.txt
├── tools/                   # 工具脚本
│   ├── demo.py
│   ├── quick_start.py
│   ├── run.bat
│   └── start_gui.bat
├── docs/                    # 文档
│   ├── README.md
│   └── 完整使用说明.md
├── samples/                 # 示例文件
│   └── README.md
├── release/                 # 发布版本
│   └── 使用说明v0.0.3.txt
├── tools/                   # 工具脚本和模块
│   ├── json_format_detector/ # JSON格式检测工具（命令行版）
│   │   ├── json_format_detector.py
│   │   ├── detect_format.py
│   │   ├── example_data.json
│   │   └── README.md
│   ├── demo.py               # 演示脚本
│   ├── quick_start.py        # 快速启动脚本
│   └── ...                   # 其他工具
├── gui/                     # JSON格式检测工具（GUI版）
│   ├── json_format_detector_gui.py
│   ├── build.py
│   ├── run_gui.py
│   └── README.md
├── dist/                    # 输出文件目录
│   └── README.md
├── gametool.py             # 主程序
└── README.md               # 项目说明
```

## 系统要求

- Python 3.7 或更高版本
- Windows 10/11（批处理文件）
- 支持的操作系统：Windows, macOS, Linux

## 快速演示

想要快速体验工具功能？运行演示脚本：

```bash
python tools/demo.py
```

这将创建包含越南文的演示表格文件，然后您可以：

1. 运行 `tools/start_gui.bat` 启动图形界面
2. 选择 `demo_tables` 目录进行扫描
3. 查看检测结果

## 技术特点

- **跨平台**: 支持 Windows, macOS, Linux
- **多线程**: GUI版本使用后台线程避免界面卡顿
- **错误处理**: 完善的异常处理和用户提示
- **编码兼容**: 自动处理多种文件编码
- **递归扫描**: 支持扫描子目录

## 开发环境

- Python 3.7+
- Tkinter (GUI界面)
- pandas (数据处理)
- openpyxl (Excel文件处理)

## 测试验证

工具已通过完整测试：
- ✅ 越南文检测准确性
- ✅ 多格式文件支持
- ✅ 图形界面功能
- ✅ 命令行功能
- ✅ 错误处理
- ✅ 演示文件测试
- ✅ JSON格式检测功能

## 版本信息

### 当前版本: v0.0.3

**主要更新：**
- 策划检测功能优化，界面进一步优化
- 新增JSON格式检测工具
- 支持GUI和命令行两种使用方式
- 支持exe文件打包和分发

**更新日志：**

v0.0.3 (2024年)
- 策划检测功能全面优化和测试
- 界面进一步优化，删除冗余元素
- 检测结果显示区域进一步扩大
- 项目文件结构整理和优化
- 新增JSON格式检测工具
- 支持exe文件打包
- 提升用户体验和操作效率

v0.0.2 (2024年)
- 新增策划检测功能
- 优化界面布局，删除冗余元素
- 大幅增加检测结果显示区域
- 提升用户体验和操作效率

v0.0.1 (2024年)
- 初始版本发布
- 实现批量扫描和精确定位功能
- 基础GUI界面

## 注意事项

1. 确保表格文件格式正确
2. 大文件处理可能需要较长时间
3. 建议在检测前备份重要文件
4. 如遇问题，请检查文件权限和格式
5. 策划检测功能已全面测试，确保正常工作
6. JSON格式检测工具支持嵌套JSON结构

## 测试建议

1. 使用samples目录中的示例文件进行测试
2. 验证策划检测功能是否正常工作
3. 测试各种文件格式和编码
4. 验证界面响应和结果显示
5. 测试JSON格式检测工具的准确性

## 维护说明

如需修改或扩展功能：

1. **修改检测规则**: 编辑 `core/localization_checker.py` 中的 `VietnameseDetector` 类
2. **修改界面**: 编辑 `gametool.py` 中的界面布局和功能
3. **添加新格式**: 在 `TableChecker` 类中添加新的文件格式支持
4. **修改样式**: 在 `setup_styles` 方法中调整界面样式
5. **JSON检测**: 修改 `json_format_detector` 模块中的检测逻辑

## 技术支持

如有问题或建议，请联系开发团队。

---

**gametools v0.0.3**  
版权所有 © 2024
